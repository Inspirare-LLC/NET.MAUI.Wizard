<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Class="NET.MAUI.Wizard.ContentViews.WizardContentView">
    <ContentView.Resources>
        <ResourceDictionary>
            <toolkit:InvertedBoolConverter x:Key="InvertedBoolConverter" />
        </ResourceDictionary>
    </ContentView.Resources>
    <ContentView.Content>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackLayout Grid.Row="0">
                <Label Padding="0,5,0,5" HorizontalOptions="Center" VerticalOptions="Center" Text="{Binding Title}" HorizontalTextAlignment="Center" LineBreakMode="WordWrap" FontAttributes="Bold" FontSize="Title" />
                <BoxView HeightRequest="1" Color="Black"/>
            </StackLayout>
            <ContentView x:Name="StepContent" Padding="15" VerticalOptions="Start" Content="{Binding CurrentItem.View}" Grid.Row="1" />
            <StackLayout Grid.Row="2" Padding="0,0,0,10">
                <ProgressBar ProgressColor="{Binding ProgressBarColor}" Progress="{Binding ProgressBarProgress}" />
                <StackLayout Orientation="Horizontal" Padding="20, 5">
                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}" IsVisible="{Binding IsNotFirstItem}" Text="{Binding BackButtonLabel}" Command="{Binding BackCommand}" HorizontalOptions="Start" />
                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}" IsVisible="{Binding IsCustomButtonVisible}" Text="{Binding CustomButtonLabel}" Command="{Binding CustomCommand}" HorizontalOptions="Start" />
                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}" IsVisible="{Binding IsSkippable}" Text="{Binding SkipButtonLabel}" Command="{Binding SkipCommand}" HorizontalOptions="End" />
                    <Button IsEnabled="{Binding IsBusy, Converter={StaticResource InvertedBoolConverter}}" Text="{Binding NextButtonLabel}" Command="{Binding NextCommand}" HorizontalOptions="End" />
                </StackLayout>
            </StackLayout>
        </Grid>
    </ContentView.Content>
</ContentView>
